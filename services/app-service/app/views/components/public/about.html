<div class="fadein-up">
    <section id="about" tabindex="-1" aria-labelledby="about-heading">
        <h2 class="block-title" id="about-heading">About Me</h2>
        <div class="about-card ui-surface mt-5">
            <div class="card-body about-body">
                <div class="about-me-section d-none d-md-block">
                    <% BLOCKS_PER_ROW = 3
                       about_blocks = [
                           {icon: 'bi-person',    title: 'Age',       value: data[:about].age},
                           {icon: 'bi-geo-alt',   title: 'Location',  value: data[:about].location},
                           {icon: 'bi-mortarboard', title: 'Education', value: data[:about].education},
                           {icon: 'bi-translate', title: 'Language',  value: data[:languages]},
                           {icon: 'bi-building',  title: 'Career',    value: data[:careers], is_list: true}
                       ]
                       rows = about_blocks.each_slice(BLOCKS_PER_ROW).to_a
                    %>
                    <% rows.each_with_index do |row, i| %>
                        <div class="about-me-row<%= ' about-me-row--indented' if i.odd? %>">
                            <% row.each do |block| %>
                                <div class="about-me-cell">
                                    <span class="about-me-icon"><i class="bi <%= block[:icon] %>"></i></span>
                                    <div>
                                        <div class="about-me-title"><%= block[:title] %></div>
                                        <div class="about-me-value">
                                            <% if block[:is_list] && block[:value].respond_to?(:each) %>
                                                <% block[:value].each do |exp| %>
                                                    <div><strong><%= exp.company %></strong> — <%= exp.position %> <span style="color:#888;">(<%= exp.start_date %> – <%= exp.end_date %>)</span></div>
                                                <% end %>
                                            <% else %>
                                                <%= block[:value] %>
                                            <% end %>
                                        </div>
                                    </div>
                                </div>
                            <% end %>
                        </div>
                    <% end %>
                </div>

                <div class="about-me-section d-block d-md-none">
                    <% about_blocks = [
                        {icon: 'bi-person',    title: 'Age',       value: data[:about].age},
                        {icon: 'bi-geo-alt',   title: 'Location',  value: data[:about].location},
                        {icon: 'bi-mortarboard', title: 'Education', value: data[:about].education},
                        {icon: 'bi-translate', title: 'Language',  value: data[:languages]},
                        {icon: 'bi-building',  title: 'Career',    value: data[:careers], is_list: true}
                    ]
                    %>
                    <% about_blocks.each do |block| %>
                        <div class="about-me-cell">
                            <span class="about-me-icon"><i class="bi <%= block[:icon] %>"></i></span>
                            <div>
                                <div class="about-me-title"><%= block[:title] %></div>
                                <div class="about-me-value">
                                    <% if block[:is_list] && block[:value].respond_to?(:each) %>
                                        <% block[:value].each do |exp| %>
                                            <div><strong><%= exp.company %></strong> — <%= exp.position %> <span style="color:#888;">(<%= exp.start_date %> – <%= exp.end_date %>)</span></div>
                                        <% end %>
                                    <% else %>
                                        <%= block[:value] %>
                                    <% end %>
                                </div>
                            </div>
                        </div>
                    <% end %>
                </div>
            </div>
        </div>
    </section>
</div>
